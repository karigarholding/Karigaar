
export type DiamondShape = 'Round' | 'Princess' | 'Cushion' | 'Emerald' | 'Heart' | 'Marquise' | 'Oval' | 'Pear' | 'Radiant' | 'Asscher';

export const DIAMOND_SHAPES: DiamondShape[] = [
  'Round', 'Princess', 'Cushion', 'Emerald', 'Heart', 'Marquise', 'Oval', 'Pear', 'Radiant', 'Asscher'
];

export const DIAMOND_MAPPINGS: Record<DiamondShape, Record<string, string | number>> = {
  Round: {
    "0.0025": 0.8, "0.005": 1, "0.0067": 1.1, "0.009": 1.2, "0.01": 1.3, "0.015": 1.5, "0.02": 1.75, "0.025": 1.8, "0.03": 2, "0.04": 2.2, "0.06": 2.5, "0.08": 2.75, "0.10": 3, "0.14": 3.25, "0.17": 3.5, "0.21": 3.75, "0.25": 4, "0.28": 4.25, "0.36": 4.5, "0.44": 4.75, "0.50": 5, "0.56": 5.25, "0.66": 5.5, "0.75": 5.75, "0.84": 6, "0.93": 6.25, "1.00": 6.5, "1.25": 6.8, "1.30": 7, "1.50": 7.3, "1.67": 7.5, "1.75": 7.75, "2.00": 8, "2.11": 8.25, "2.43": 8.5, "2.50": 8.7, "2.75": 9, "3.00": 9.1, "3.35": 9.5, "3.50": 9.75, "3.87": 10, "4.00": 10.25, "4.41": 10.5, "4.50": 10.75, "5.00": 11, "5.49": 11.25, "5.85": 11.5, "6.84": 12, "7.26": 12.25, "7.36": 12.5, "7.52": 12.75, "8.51": 13, "9.53": 13.5, "10.49": 14, "12.89": 15, "16.06": 16
  },
  Princess: {
    "0.015": 1.5, "0.03": 1.75, "0.06": 2, "0.08": 2.25, "0.10": 2.5, "0.13": 2.75, "0.18": 3, "0.25": 3.25, "0.29": 3.5, "0.31": 3.75, "0.39": 4, "0.44": 4.25, "0.50": 4.5, "0.64": 4.75, "0.75": 5, "0.90": 5.25, "1.00": 5.5, "1.11": 5.75, "1.25": 6, "1.39": 6.25, "1.50": 6.5, "1.75": 6.75, "2.00": 7, "2.01": 7.25, "2.50": 7.5, "2.74": 7.75, "3.00": 8, "3.24": 8.25, "3.50": 8.5, "4.00": 8.75, "4.50": 9.25, "5.00": 9.5, "5.36": 9.75, "5.62": 10, "5.76": 10.25, "5.99": 10.5, "7.44": 11, "9.44": 11.5, "9.52": 12
  },
  Cushion: {
    "0.25": 3.25, "0.40": 4.2, "0.50": 4.9, "0.75": 5.25, "1.00": 5.5, "1.25": 6, "1.50": 6.5, "1.75": 6.75, "2.00": 7, "2.50": 7.5, "3.00": 8, "3.50": 8.5, "4.00": 9, "4.50": 9.3, "5.00": 9.5, "5.62": 10, "7.44": 11, "9.52": 12, "12.66": 13
  },
  Emerald: {
    "0.10": "3x2", "0.12": "3.5x2", "0.15": "4x2", "0.20": "4x3", "0.25": "4.30x3", "0.29": "5x3", "0.46": "5.5x3.5", "0.50": "6x4", "0.75": "6.5x4.5", "0.88": "6.7x4.5", "1.00": "7x5", "1.25": "7.3x5.3", "1.50": "7.5x5.5", "1.75": "8x6", "2.00": "8.5x6.5", "2.50": "9x7", "3.00": "9.3x7.5", "3.21": "9.5x7.5", "3.50": "9.75x7.7", "3.79": "9.9x7.8", "4.00": "10x8", "4.50": "10.5x8.5", "5.00": "11x9", "5.34": "12x8", "6.00": "12x10", "6.25": "14x8", "6.38": "14x9", "8.48": "14x10", "9.13": "13x11", "11.26": "14x12", "14.22": "16x12"
  },
  Heart: {
    "0.18": 3.5, "0.25": 4, "0.28": 4.25, "0.34": 4.5, "0.38": 4.75, "0.50": 5, "0.61": 5.5, "0.75": 6, "0.83": 6.25, "1.00": 6.5, "1.25": 7, "1.50": 7.5, "1.75": 7.7, "2.00": 8, "2.50": 8.5, "3.00": 9, "3.50": 10, "4.00": 10.5, "4.50": 11, "5.00": 11.5, "5.66": 12, "7.88": 13, "9.38": 14, "10.79": 15, "13.27": 16, "15.33": 18
  },
  Marquise: {
    "0.025": "3x1.5", "0.065": "3.5x1.75", "0.07": "3.5x2", "0.10": "4x2", "0.11": "3.75x1.75", "0.12": "4.25x2.25", "0.14": "5x2.5", "0.16": "5.5x2.75", "0.18": "5.5x3", "0.20": "5x3", "0.23": "6.5x3", "0.25": "6x3", "0.30": "7x3", "0.33": "7.5x3.5", "0.34": "7x4", "0.50": "8x4", "0.70": "8.75x4.25", "0.75": "9x4.5", "0.85": "9.5x4.7", "1.00": "10x5", "1.25": "11x5.5", "1.33": "11.5x6", "1.50": "12x6", "1.75": "12.5x6.25", "2.00": "13x6.5", "2.50": "14x7", "3.00": "15x7", "3.25": "15x7.5", "3.50": "15x8", "3.86": "16x8", "4.00": "16.5x8.25", "4.50": "16.75x8.5", "5.00": "17x8.5", "5.50": "17.5x10", "7.08": "20x8", "7.94": "20x10", "9.50": "20x11"
  },
  Oval: {
    "0.10": "3.6x2.7", "0.15": "4x3", "0.20": "4.5x3.5", "0.25": "5x3", "0.33": "5.5x3.5", "0.35": "5x4", "0.50": "6x4", "0.61": "6x5", "0.65": "6.5x4.5", "0.75": "7x5", "1.00": "7.7x5.7", "1.25": "8x6", "1.41": "9x6", "1.50": "8.5x6.5", "1.75": "9x6.5", "2.00": "9x7", "2.50": "10x8", "2.88": "10.5x8.5", "3.00": "12x8", "3.50": "12x8.5", "3.85": "11x9", "4.00": "12.5x8.5", "4.50": "12.75x8.5", "5.00": "12x10", "5.81": "14x10", "6.05": "13x11", "8.21": "14x12", "8.76": "15x12", "9.32": "16x12", "11.88": "16x14", "12.86": "18x13", "14.96": "20x15"
  },
  Pear: {
    "0.25": "4.3x3", "0.34": "4.5x3.5", "0.41": "6x3", "0.50": "6x4", "0.75": "6.5x4.5", "1.00": "7x5", "1.25": "7.3x5.5", "1.50": "7.5x5.8", "1.75": "8x6", "2.00": "8.2x6.2", "2.25": "8.5x6.5", "2.50": "9x7", "3.00": "9.5x7.5", "3.31": "10x7", "3.50": "10x8", "4.00": "10.2x8.2", "4.50": "10.5x8.5", "5.00": "11x9", "6.06": "12x9", "6.45": "11.5x10", "6.54": "13x9", "6.79": "13.2x9.2", "8.47": "14x10", "9.33": "13x11", "10.19": "13.5x11.5", "11.48": "15x11", "12.14": "14x12", "14.22": "16x12"
  },
  Radiant: {
    "0.13": "3x2", "0.18": "4x2.5", "0.21": "4x3", "0.25": "5x3", "0.35": "5x4", "0.50": "6x4", "0.60": "6.5x4.5", "0.75": "7x5", "0.85": "7.5x5.5", "1.00": "7.7x5.7", "1.25": "8x6", "1.50": "8.5x6.5", "1.75": "10x6", "1.80": "8.7x6.7", "2.00": "9x7", "2.50": "10x8", "2.61": "11x7.50", "2.70": "11x8", "3.00": "12x8", "3.12": "12x7", "3.40": "13x8", "3.50": "12x9", "4.00": "14x8", "4.11": "13x9", "4.25": "14x9", "4.50": "14.5x9", "5.00": "15x9", "5.41": "14x10", "5.65": "13x11", "5.75": "15x10", "5.86": "16x9", "6.27": "16x10", "6.46": "17x10", "7.36": "15x11", "8.14": "18x11", "8.99": "16x12", "9.35": "18x12", "10.21": "18x13"
  },
  Asscher: {
    "0.25": 3.25, "0.39": 4, "0.50": 4.5, "0.75": 5, "1.00": 5.5, "1.25": 6, "1.50": 6.5, "1.75": 6.7, "2.00": 7, "2.50": 7.5, "3.00": 8, "3.50": 8.5, "4.00": 9, "4.50": 9.25, "5.00": 9.5, "5.62": 10, "7.44": 11, "9.52": 12, "12.66": 13
  }
};

export const getClosestDiamondDimension = (shape: DiamondShape, carats: number): string => {
  const map = DIAMOND_MAPPINGS[shape];
  const keys = Object.keys(map).map(Number);
  const closest = keys.reduce((prev, curr) => {
    return (Math.abs(curr - carats) < Math.abs(prev - carats) ? curr : prev);
  });
  
  const result = map[closest.toString()];
  return result.toString();
};
